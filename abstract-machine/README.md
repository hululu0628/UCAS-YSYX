# Abstract-Machine

**注意：本文档主要针对一生一芯所使用的部分进行描述**

### 结构示意

### 说明

- `am`：主要包括为应用程序初始化运行环境的`trm`，和提供一系列外设API的`ioe`。
  `trm`（包括之前的`start`, `bootloader`）主要负责设置sp寄存器，将数据和代码从flash中加载到SDRAM中，并跳转到`main`函数。此外还会对一些外设的控制寄存器进行初始化。
  `ioe`包括的外设有串口、计时器、VGA、PS2键盘，将这些外设相关的处理函数入口存放在查找表中，应用程序使用时通过`ioe_read`和`ioe_write`调用进行查表，找到后跳转到对应的处理函数中。
- `klib`：一些库函数封装，主要包括print，堆栈分配，字符串处理以及针对64位运算的软件处理函数。
- `scripts`：包含一些makefile脚本和链接器脚本
- `tools`: 用于minirv的编译器

